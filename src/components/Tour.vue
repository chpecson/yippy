<template>

    <div id="container">
        
    <header>
        <div class="title-area">
            <i class="icon-yipp_profile_line tour-5"></i>
            <span>Trainingen</span>
            <i class="icon-yipp_notification_line2 tour-4"></i>
        </div>

        <div class="user-area">
            <div class="child-name">[Name child]</div>
            <ul class="months-level">
                <li>
                    <span>8</span>  
                    <span>Maanden</span>
                </li>
                <li class="tour-1">
                    <span>1</span>
                    <span>Level</span>
                </li>
                <li>
                    <a href=""><i class="icon-yipp_down"></i></a>
                </li>
            </ul>
            <div class="photo"></div>
        </div>
    </header>
        
    <section class="traingen" id="page-1">

            <ul id="list-icons">
                <li class="tour-2">
                    <a href="">
                    <span class="icon icon-yipp_check_full big active"></span> 1.Nutrition fruit &amp; vegetable
                    </a>
                </li>

                <li>
                    <a href="">
                    <span class="icon icon-yipp_water_full big active"></span> 
                    2.Drinking from a cup
                    </a>
                </li>

                <li class="tour-3">
                    <a href="">
                    <span class="icon icon-yipp_check_line small active"></span> 
                    if the plan
                    </a>
                </li>

                <li>
                    <a href="">
                        <span class="icon icon-yipp_sleep_line big normal"></span> 
                        3.Importance of sleep
                    </a>
                </li>

                <li>
                    <a href="">
                        <span class="icon icon-yipp_apple_line big normal"></span> 
                        4.Practice Food
                    </a>
                </li>

                <li>
                    <a href="">
                    <span class="icon  icon-yipp_camera_line small active"></span> 
                    Offering 10 times
                    </a>
                </li>

                <li>
                    <a href="">
                    <span class="icon icon-yipp_check_full big active"></span> 5.Nutrition fruit &amp; vegetable
                    </a>
                </li>

                <li>
                    <a href="">
                    <span class="icon icon-yipp_water_full big active"></span> 
                    6.Drinking from a cup
                    </a>
                </li>

                <li>
                    <a href="">
                    <span class="icon icon-yipp_check_line small active"></span> 
                    if the plan
                    </a>
                </li>

                <li>
                    <a href="">
                        <span class="icon icon-yipp_sleep_line big normal"></span> 
                        7.Importance of sleep
                    </a>
                </li>

                <li>
                    <a href="">
                        <span class="icon icon-yipp_apple_line big normal"></span> 
                        8.Practice Food
                    </a>
                </li>

                <li>
                    <a href="">
                    <span class="icon icon-yipp_camera_line small active"></span> 
                    Offering 10 times
                    </a>
                </li>
            </ul>
        
    </section>
        
            
    <section class="traingen2" id="page-2">
        <ul class="data">
            <li>
            <span class="big">60</span>
            
            <span class="small left">
            Je gebruikt<br>
            de app nu<br>
            <strong>dagen</strong>
            </span>
            </li>
            <li>
            <span class="big">1</span>
                <span class="small right">
                <strong>Doel (en)</strong><br>
                behaald
                </span>
            </li>
        </ul>

        <div class="mTitle"><span>Challenges</span></div>
        
        <div class="challenge">
        
            <ul>
                <li class="active tour-6">1</li>
                <li class="semi">2</li>
                <li>3</li>
                <li>4</li>
                <li>5</li>
                <li>6</li>
                <li>7</li>
                <li>8</li>
                <li>9</li>
                <li>10</li>
            </ul>
        
        </div>
        
        <ul class="challenges">
        
            <li class="active tour-7">
                <i class="icon-yipp_water_badge"></i>
                <strong>Challenge 5</strong>
                <p>Drinking from a cup</p>
            </li>
            
            <li class="active">
                <i class="icon-yipp_apple_badge"></i>
                <strong>Challenge 6</strong>
                <p>Practivce food</p>
            </li>
            
            <li>
                <i class="icon-yipp_sleep_badge"></i>
                <strong>Challenge 7</strong>
                <p>Sleeping ritual</p>
            </li>
            
            <li>
                <i class="icon-yipp_apple_badge"></i>
                <strong>Challenge 8</strong>
                <p>Eating together</p>
            </li>
        
        </ul>
        
        <div class="mTitle"><span>Titel</span></div>
        
        <div class="place">
        
            <i class="icon-yipp_supermom_full"></i>
        
            <div class="right">
                
                <span>level 1</span>
                
                <strong>
                Beginnende <br>
                mama
                </strong>
            </div>
        
        </div>
        
        <div class="mTitle"><span>Gebruikers</span></div>
        
        <div class="total">
            <strong>2546</strong>
            <div class="right">
            Deze app heeft al <br>
            <strong>getbruikers</strong>
            </div>
        </div>            
        
    </section>

    <section id="page-3">
        <div class="panel" id="cards">
            <a href="" class="back"><i class="icon-yipp_check_full"></i></a>
            <div class="bar"><span class="bar-inner"></span></div>
            <a href="" class="home"><i class="icon-yipp_home_full-"></i></a>


          <div id="paper">

              <h3>Why?</h3>
              
              <p>Door een ‘als-dan’ plan te gebruiken, beschrijf je je heel specifiek welk gedrag je gaat uitvoeren in welke situatie. In plaats van een vage afspraak zoals “meer te bewegen”, maak je een specifieke afspraak met jezelf hoe en wanneer je dit gedrag gaat uitvoeren. Dit maakt de kans veel groter dat het je lukt om je doel te bereiken!</p>
                
              <i class="heart icon-yipp_check_full tour-8"></i>    
        
            <div id="paper_foo1"><div id="paper_foo2"></div></div>
          </div>
            
        </div>
    </section>
        
        <footer>
            <ul>
                <li><a href="" class="active"><span class="icon-yipp_home_full-"></span>Training</a></li>
                <li><a href=""><span class="icon-yipp_challenge_line"></span>Challenge</a></li>
            </ul>
        </footer>

    </div>


</template>

<script>
import locale from '../api/locale'
import {router} from '../index'
import config from '../config'
import auth from '../api/auth'
import profile from '../api/profile'
import $ from 'jquery'
import Storage from '../storage'

import hopscotch from 'hopscotch'

export default {
    data() {
        return {
            child: {},
            childAge: 0,
            userID: 0,
            label: {},
            profile: {},
            currentLevel: 0,
            // page: 'timeline'
        }
    },
    created: function() {
        this.loadLabels();
        auth.check();
        if (!auth.authenticated) {
            this.redirectGuest();
        }

        this.child = auth.user.data.child;
        this.childAge = this.child.get('age');
        this.userID = auth.user.get('id');

        var that = this;

        var tour = {
            id: "test",
            steps: [
                {
                    title: "",
                    content: "Tap here if you want to see all levels.",
                    target: ".tour-1",
                    placement: "bottom"
                },
                {
                    title: "",
                    content: "Tap here if you want to start your first lesson.",
                    target: ".tour-2",
                    placement: "bottom"
                },
                {
                    title: "",
                    content: "If you tap here you can start your first challenge",
                    target: ".tour-3",
                    placement: "bottom"
                },
                {
                    title: "",
                    content: "The emergency button helps you when you need it.",
                    target: ".tour-4",
                    placement: "left",
                },
                {
                    title: "",
                    content: "Check your profile",
                    target: ".tour-5",
                    placement: "bottom",
                    onNext: function () {
                        that.showPage(2);
                    }
                },
                {
                    title: "",
                    content: "Slide to switch between levels",
                    target: ".tour-6",
                    placement: "bottom"
                },
                {
                    title: "",
                    content: "Tap to start a challenge or see the result.",
                    target: ".tour-7",
                    placement: "bottom",
                    onNext: function () {
                        that.showPage(3);
                    }
                },
                {
                    title: "",
                    content: "If you like this card, we will save it in your cheatsheet",
                    target: ".tour-8",
                    placement: "bottom"
                }
            ],
            onEnd: function () {
                Storage.save('tour', 1);
                that.$router.push('timeline');
            }
        };

        setTimeout(function(){
            that.showPage(1);
            hopscotch.startTour(tour, 1);
        }, 1);
            
    },
    methods: {
        showPage: function (page) {
            var page1 = $('#page-1');
            var page2 = $('#page-2');
            var page3 = $('#page-3');

            var header = $('header');
            var footer = $('footer');

            page1.hide();
            page2.hide();
            page3.hide();

            if (page == 1) {
                page1.show();
                header.show();
                footer.show();
            } else if (page == 2) {
                page2.show();
                header.show();
                footer.show();
            } else if (page == 3) {
                page3.show();
                header.hide();
                footer.hide();
            }
        },
        loadLabels: function () {
            var that = this;
            locale.label(this, config.api.lang, function (response) {
                that.label = response;
            }, function (msg, response) {
                that.logError(msg);
            });
        },
        redirectGuest: function()
        {
            this.$router.push('login');
        },
        logError(msg) {
            this.loading = false;
            var msgStr = '';
            if (typeof msg == 'string') {
                msgStr = msg;
            } else {
                $.each(msg, function(label, value) {
                    msgStr += value + ' ';
                })
            }
            
            this.error_message = msgStr;
        },
    },
}
</script>

